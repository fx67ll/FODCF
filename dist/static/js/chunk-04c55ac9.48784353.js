(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04c55ac9"],{"1f27":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"status-card"},[e("div",{staticClass:"status-header"},[e("h2",[t._v("Tomcat 服务管理")]),e("div",{staticClass:"refresh-container"},[e("el-button",{staticClass:"refresh-btn",attrs:{type:"text",icon:"el-icon-refresh",loading:t.isRefreshing},on:{click:t.handleRefresh}},[t._v(" 手动刷新 ")]),e("span",{staticClass:"refresh-time"},[t._v("最后刷新: "+t._s(t.lastRefreshTime))])],1)]),e("div",{staticClass:"status-content"},[e("div",{staticClass:"status-indicator"},[e("div",{staticClass:"indicator-dot",class:"运行中"===t.status?"running":"stopped"}),e("div",{staticClass:"status-text"},[t._v(t._s(t.status))])]),e("div",{staticClass:"operation-buttons"},[e("el-button",{attrs:{type:"success",icon:"el-icon-play",disabled:"运行中"===t.status||t.isOperating},on:{click:t.startTomcat}},[t._v(" 启动服务 ")]),e("el-button",{attrs:{type:"danger",icon:"el-icon-stop",disabled:"已停止"===t.status||t.isOperating},on:{click:t.stopTomcat}},[t._v(" 停止服务 ")])],1)]),t.logInfo?e("div",{staticClass:"status-log"},[e("h3",[t._v("操作日志")]),e("pre",[t._v(t._s(t.logInfo))])]):t._e()]),e("div",{staticClass:"status-card"},[e("div",{staticClass:"status-header"},[e("h2",[t._v("GitHub 连通性检测")]),e("div",{staticClass:"refresh-container"},[e("el-button",{staticClass:"refresh-btn",attrs:{type:"text",icon:"el-icon-switch-button",loading:t.isRefreshingGithub},on:{click:t.handleRefreshGithub}},[t._v(" 重置检测 ")]),t.lastGithubTestTime?e("span",{staticClass:"refresh-time"},[t._v("最后检测: "+t._s(t.lastGithubTestTime))]):t._e()],1)]),e("div",{staticClass:"github-content"},[e("div",{staticClass:"detection-methods"},[e("div",{staticClass:"method-card"},[e("div",{staticClass:"method-header"},[e("h4",[t._v("TCP 网络层检测")]),e("div",{staticClass:"method-status",class:t.getStatusClass(t.tcpStatus)},[t._v(" "+t._s(t.getStatusText(t.tcpStatus))+" ")])]),t._m(0),e("div",{staticClass:"method-action"},[e("el-button",{attrs:{type:"primary",size:"small",loading:t.testingTcp,disabled:t.testingHttp},on:{click:t.testTcpConnectivity}},[t._v(" "+t._s(t.testingTcp?"检测中...":"开始检测")+" ")])],1)]),e("div",{staticClass:"method-card"},[e("div",{staticClass:"method-header"},[e("h4",[t._v("HTTP 应用层检测")]),e("div",{staticClass:"method-status",class:t.getStatusClass(t.httpStatus)},[t._v(" "+t._s(t.getStatusText(t.httpStatus))+" ")])]),t._m(1),e("div",{staticClass:"method-action"},[e("el-button",{attrs:{type:"primary",size:"small",loading:t.testingHttp,disabled:t.testingTcp},on:{click:t.testHttpConnectivity}},[t._v(" "+t._s(t.testingHttp?"检测中...":"开始检测")+" ")])],1)])]),t.githubLogInfo?e("div",{staticClass:"detection-result"},[e("h3",[t._v("检测结果")]),e("pre",[t._v(t._s(t.githubLogInfo||t.未知问题))])]):t._e()])]),e("div",{staticClass:"status-card"},[t._m(2),e("div",{staticClass:"service-grid"},[e("div",{staticClass:"service-item",on:{click:t.goToJenkins}},[t._m(3),t._m(4),e("div",{staticClass:"service-action"},[e("el-button",{staticClass:"goto-btn",attrs:{type:"text",icon:"el-icon-right"}})],1)]),e("div",{staticClass:"service-item",on:{click:t.goToBaota}},[t._m(5),t._m(6),e("div",{staticClass:"service-action"},[e("el-button",{staticClass:"goto-btn",attrs:{type:"text",icon:"el-icon-right"}})],1)])]),t._m(7)])])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"method-desc"},[e("p",[t._v("检测与 GitHub 的网络连通性（TCP 443端口）")]),e("p",{staticClass:"desc-detail"},[t._v("仅验证网络层是否可达，不涉及HTTP协议")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"method-desc"},[e("p",[t._v("完整检测 HTTPS 连接（包含SSL握手）")]),e("p",{staticClass:"desc-detail"},[t._v("验证完整的HTTP协议栈和证书链")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"status-header"},[e("h2",[t._v("常用服务快速访问")]),e("div",{staticClass:"refresh-container"},[e("span",{staticClass:"refresh-time"},[t._v("快捷入口")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"service-icon jenkins-icon"},[e("i",{staticClass:"el-icon-s-promotion"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"service-info"},[e("h4",[t._v("Jenkins 服务")]),e("p",[t._v("持续集成与部署平台")]),e("div",{staticClass:"service-link"},[t._v("run.fx67ll.com/jenkins")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"service-icon baota-icon"},[e("i",{staticClass:"el-icon-monitor"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"service-info"},[e("h4",[t._v("宝塔面板")]),e("p",[t._v("服务器运维管理")]),e("div",{staticClass:"service-link"},[t._v("baota.fx67ll.com")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"service-footer"},[e("span",{staticClass:"tip-text"},[t._v("点击上方卡片快速访问对应服务")])])}],n=(e("d3b7"),e("99af"),e("2adc"));function c(){return Object(n["a"])({url:"/server/tomcat/status",method:"get"})}function o(){return Object(n["a"])({url:"/server/tomcat/start",method:"post"})}function r(){return Object(n["a"])({url:"/server/tomcat/stop",method:"post"})}function u(){return Object(n["a"])({url:"/server/tomcat/testConnectToGithubByTcp",method:"get"})}function l(){return Object(n["a"])({url:"/server/tomcat/testConnectToGithubByHttp",method:"get"})}var h={name:"TomcatManager",data:function(){return{status:"加载中...",lastRefreshTime:"",logInfo:"",isOperating:!1,refreshInterval:null,isRefreshing:!1,tcpStatus:"waiting",httpStatus:"waiting",testingTcp:!1,testingHttp:!1,githubLogInfo:"",lastGithubTestTime:"",isRefreshingGithub:!1}},created:function(){var t=this;this.queryStatus(),this.refreshInterval=setInterval((function(){t.queryStatus()}),1e4)},beforeDestroy:function(){this.refreshInterval&&clearInterval(this.refreshInterval)},methods:{goToJenkins:function(){window.open("https://run.fx67ll.com/jenkins","_blank")},goToBaota:function(){window.open("https://baota.fx67ll.com","_blank")},handleRefresh:function(){var t=this;this.isRefreshing=!0,this.queryStatus().finally((function(){t.isRefreshing=!1}))},handleRefreshGithub:function(){var t=this;this.isRefreshingGithub=!0,this.tcpStatus="waiting",this.httpStatus="waiting",this.githubLogInfo="",setTimeout((function(){t.isRefreshingGithub=!1}),500)},queryStatus:function(){var t=this;return c().then((function(s){t.status=s.data,t.lastRefreshTime=t.formatDateTime(new Date)})).catch((function(s){t.$message.error("查询状态失败: "+(s.msg||s.message)),t.status="未知"}))},startTomcat:function(){var t=this;this.$confirm("确定要启动Tomcat服务吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.isOperating=!0,t.logInfo="正在启动Tomcat服务...",o().then((function(s){t.$message.success(s.msg),t.logInfo=s.data||s.msg,setTimeout((function(){t.queryStatus(),setTimeout((function(){t.queryStatus(),t.isOperating=!1}),3e3)}),1e3)})).catch((function(s){t.$message.error(s.msg||"启动失败"),t.logInfo=s.msg||"启动失败",t.isOperating=!1,t.queryStatus()}))})).catch((function(){t.$message.info("已取消启动")}))},stopTomcat:function(){var t=this;this.$confirm("确定要停止Tomcat服务吗？停止后可能导致相关应用无法访问。","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){t.isOperating=!0,t.logInfo="正在停止Tomcat服务...",r().then((function(s){t.$message.success(s.msg),t.logInfo=s.data||s.msg,setTimeout((function(){t.queryStatus(),setTimeout((function(){t.queryStatus(),t.isOperating=!1}),3e3)}),1e3)})).catch((function(s){t.$message.error(s.msg||"停止失败"),t.logInfo=s.msg||"停止失败",t.isOperating=!1,t.queryStatus()}))})).catch((function(){t.$message.info("已取消停止")}))},testTcpConnectivity:function(){var t=this;this.testingTcp=!0,this.tcpStatus="testing",this.githubLogInfo="正在检测 GitHub TCP 连通性...",u().then((function(s){t.tcpStatus="success",t.githubLogInfo="TCP检测成功：".concat(s.msg,"\n详细信息：").concat(s.data),t.lastGithubTestTime=t.formatDateTime(new Date),t.$message.success("GitHub TCP连通性检测成功")})).catch((function(s){t.tcpStatus="error",t.githubLogInfo="TCP检测失败：".concat(s.msg||s.message),t.lastGithubTestTime=t.formatDateTime(new Date),t.$message.error("GitHub TCP连通性检测失败")})).finally((function(){t.testingTcp=!1}))},testHttpConnectivity:function(){var t=this;this.testingHttp=!0,this.httpStatus="testing",this.githubLogInfo="正在检测 GitHub HTTP 连通性...",l().then((function(s){t.httpStatus="success",t.githubLogInfo="HTTP检测成功：".concat(s.msg,"\n详细信息：").concat(s.data),t.lastGithubTestTime=t.formatDateTime(new Date),t.$message.success("GitHub HTTP连通性检测成功")})).catch((function(s){t.httpStatus="error",t.githubLogInfo="HTTP检测失败：".concat(s.msg||s.message),t.lastGithubTestTime=t.formatDateTime(new Date),t.$message.error("GitHub HTTP连通性检测失败")})).finally((function(){t.testingHttp=!1}))},getStatusClass:function(t){var s={waiting:"status-waiting",testing:"status-testing",success:"status-success",error:"status-error"};return s[t]||"status-waiting"},getStatusText:function(t){var s={waiting:"等待检测",testing:"检测中...",success:"连接正常",error:"连接失败"};return s[t]||"未知状态"},formatDateTime:function(t){var s=t.getFullYear(),e=this.padZero(t.getMonth()+1),i=this.padZero(t.getDate()),a=this.padZero(t.getHours()),n=this.padZero(t.getMinutes()),c=this.padZero(t.getSeconds());return"".concat(s,"-").concat(e,"-").concat(i," ").concat(a,":").concat(n,":").concat(c)},padZero:function(t){return t<10?"0".concat(t):t}}},f=h,g=(e("e7e8"),e("2877")),m=Object(g["a"])(f,i,a,!1,null,"511c594a",null);s["default"]=m.exports},e7e8:function(t,s,e){"use strict";e("f51a")},f51a:function(t,s,e){}}]);