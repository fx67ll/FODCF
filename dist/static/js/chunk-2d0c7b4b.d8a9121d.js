(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7b4b"],{5280:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[e.isMoreQuery?a("el-form-item",{attrs:{label:"总金额",prop:"extraMoney"}},[a("el-input",{attrs:{placeholder:"请输入当前外快总金额",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.extraMoney,callback:function(t){e.$set(e.queryParams,"extraMoney",t)},expression:"queryParams.extraMoney"}})],1):e._e(),a("el-form-item",{attrs:{label:"是否盈利",prop:"isWin"}},[a("el-select",{attrs:{placeholder:"请选择是否盈利",clearable:""},model:{value:e.queryParams.isWin,callback:function(t){e.$set(e.queryParams,"isWin",t)},expression:"queryParams.isWin"}},e._l(e.dict.type.sys_yes_no,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e.isMoreQuery?a("el-form-item",{attrs:{label:"盈亏金额",prop:"winMoney"}},[a("el-input",{attrs:{placeholder:"请输入外快盈亏金额",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.winMoney,callback:function(t){e.$set(e.queryParams,"winMoney",t)},expression:"queryParams.winMoney"}})],1):e._e(),e.isMoreQuery?a("el-form-item",{attrs:{label:"当前本金",prop:"seedMoney"}},[a("el-input",{attrs:{placeholder:"请输入当前投入本金",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.seedMoney,callback:function(t){e.$set(e.queryParams,"seedMoney",t)},expression:"queryParams.seedMoney"}})],1):e._e(),e.isMoreQuery?a("el-form-item",{attrs:{label:"落袋金额",prop:"saveMoney"}},[a("el-input",{attrs:{placeholder:"请输入已经落袋为安的盈利金额",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.saveMoney,callback:function(t){e.$set(e.queryParams,"saveMoney",t)},expression:"queryParams.saveMoney"}})],1):e._e(),e.isMoreQuery?a("el-form-item",{attrs:{label:"目标金额",prop:"targetMoney"}},[a("el-input",{attrs:{placeholder:"请输入目标金额",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.targetMoney,callback:function(t){e.$set(e.queryParams,"targetMoney",t)},expression:"queryParams.targetMoney"}})],1):e._e(),e.isMoreQuery?a("el-form-item",{attrs:{label:"创建者",prop:"createBy"}},[a("el-input",{attrs:{placeholder:"请输入记录创建者",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.createBy,callback:function(t){e.$set(e.queryParams,"createBy",t)},expression:"queryParams.createBy"}})],1):e._e(),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeCreateTime,callback:function(t){e.daterangeCreateTime=t},expression:"daterangeCreateTime"}})],1),a("el-form-item",{attrs:{label:"更新时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{"value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.daterangeUpdateTime,callback:function(t){e.daterangeUpdateTime=t},expression:"daterangeUpdateTime"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v(" 搜索 ")]),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v(" 重置 ")]),a("el-button",{attrs:{type:"info",icon:e.isMoreQuery?"el-icon-zoom-out":"el-icon-zoom-in",size:"mini"},on:{click:e.handleMoreQuery}},[e._v(" "+e._s(e.isMoreQuery?"关闭高级搜索":"使用高级搜索")+" ")])],1)],1),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["dortmund:extra:add"],expression:"['dortmund:extra:add']"}],attrs:{type:"primary",plain:"",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["dortmund:extra:edit"],expression:"['dortmund:extra:edit']"}],attrs:{type:"success",plain:"",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["dortmund:extra:remove"],expression:"['dortmund:extra:remove']"}],attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"info",plain:"",icon:"el-icon-data-line",size:"mini"},on:{click:e.handleOpenDataAnalysis}},[e._v("查看外快盈亏历史数据走势图")])],1),a("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.extraList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{label:"外快总金额",align:"center",prop:"extraMoney",fixed:"left",width:"90"}}),a("el-table-column",{attrs:{label:"是否盈利",align:"center",prop:"isWin",fixed:"left",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("dict-tag",{attrs:{options:e.dict.type.sys_yes_no,value:t.row.isWin}})]}}])}),a("el-table-column",{attrs:{label:"本次外快盈亏金额",align:"center",prop:"winMoney",fixed:"left",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return["Y"!==t.row.isWin&&parseFloat(t.row.winMoney)<0?a("span",{staticStyle:{color:"#ff5a5f"}},[e._v(e._s(t.row.winMoney))]):e._e(),"Y"!==t.row.isWin&&0===parseFloat(t.row.winMoney||0)?a("span",{staticStyle:{color:"#999999"}},[e._v(e._s(t.row.winMoney))]):e._e(),"Y"===t.row.isWin?a("span",{staticStyle:{color:"#2ecc71"}},[e._v(e._s(t.row.winMoney))]):e._e()]}}])}),a("el-table-column",{attrs:{label:"历史总盈亏金额",align:"center",prop:"currentMoney",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.currentMoney<0?a("span",{staticStyle:{color:"#ff5a5f"}},[e._v(e._s(t.row.currentMoney.replace(/\.?0+$/,"")))]):e._e(),0===parseInt(t.row.currentMoney||0)?a("span",{staticStyle:{color:"#999999"}},[e._v(e._s(t.row.currentMoney.replace(/\.?0+$/,"")))]):e._e(),t.row.currentMoney>0?a("span",{staticStyle:{color:"#2ecc71"}},[e._v(e._s(t.row.currentMoney.replace(/\.?0+$/,"")))]):e._e()]}}])}),a("el-table-column",{attrs:{label:"当前投入本金",align:"center",prop:"seedMoney",width:"100"}}),a("el-table-column",{attrs:{label:"已经落袋为安的盈利金额",align:"center",prop:"saveMoney",width:"170"}}),a("el-table-column",{attrs:{label:"目标金额",align:"center",prop:"targetMoney",width:"80"}}),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"extraRemark"}}),a("el-table-column",{attrs:{label:"记录更新者",align:"center",prop:"updateBy",width:"120"}}),a("el-table-column",{attrs:{label:"记录更新时间",align:"center",prop:"updateTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.updateTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"记录创建者",align:"center",prop:"createBy",width:"120"}}),a("el-table-column",{attrs:{label:"记录创建时间",align:"center",prop:"createTime",fixed:"right",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d} {h}:{i}:{s}")))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",fixed:"right",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["dortmund:extra:edit"],expression:"['dortmund:extra:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["dortmund:extra:remove"],expression:"['dortmund:extra:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize,"page-sizes":[5,10,23,50,100]},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),a("el-dialog",{staticStyle:{top:"40px"},attrs:{title:e.title,visible:e.open,"close-on-click-modal":!1,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"总金额",prop:"extraMoney"}},[a("el-input",{attrs:{placeholder:"请输入当前外快总金额"},on:{input:e.handleExtraMoneyChangeDubounce},model:{value:e.form.extraMoney,callback:function(t){e.$set(e.form,"extraMoney",t)},expression:"form.extraMoney"}})],1),a("el-form-item",{attrs:{label:"是否盈利",prop:"isWin"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择是否盈利"},model:{value:e.form.isWin,callback:function(t){e.$set(e.form,"isWin",t)},expression:"form.isWin"}},e._l(e.dict.type.sys_yes_no,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"盈亏金额",prop:"winMoney"}},[a("el-input",{attrs:{placeholder:"请输入外快盈亏金额"},model:{value:e.form.winMoney,callback:function(t){e.$set(e.form,"winMoney",t)},expression:"form.winMoney"}})],1),a("el-form-item",{attrs:{label:"当前本金",prop:"seedMoney"}},[a("el-input",{attrs:{placeholder:"请输入当前投入本金"},on:{input:e.handleSeedMoneyChangeDubounce},model:{value:e.form.seedMoney,callback:function(t){e.$set(e.form,"seedMoney",t)},expression:"form.seedMoney"}})],1),a("el-form-item",{attrs:{label:"落袋金额",prop:"saveMoney"}},[a("el-input",{attrs:{placeholder:"请输入已经落袋为安的盈利金额"},model:{value:e.form.saveMoney,callback:function(t){e.$set(e.form,"saveMoney",t)},expression:"form.saveMoney"}})],1),a("el-form-item",{attrs:{label:"目标金额",prop:"targetMoney"}},[a("el-input",{attrs:{placeholder:"请输入目标金额"},model:{value:e.form.targetMoney,callback:function(t){e.$set(e.form,"targetMoney",t)},expression:"form.targetMoney"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"extraRemark"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:1023,"show-word-limit":"",placeholder:"请输入内容"},model:{value:e.form.extraRemark,callback:function(t){e.$set(e.form,"extraRemark",t)},expression:"form.extraRemark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.historyDataChartLoading,expression:"historyDataChartLoading"}],attrs:{title:"外快盈亏历史数据走势图",visible:e.historyDataAnalysisOpen,"close-on-click-modal":!1,"show-close":!0,fullscreen:!0,"destroy-on-close":!0,"append-to-body":""},on:{"update:visible":function(t){e.historyDataAnalysisOpen=t}}},[a("div",{attrs:{id:"historyDataAnalysisContainer"}})])],1)},r=[],o=a("5530"),i=(a("d3b7"),a("159b"),a("b680"),a("14d9"),a("a434"),a("ddb0"),a("b0c0"),a("d81d"),a("b775"));function l(e){return Object(i["a"])({url:"/dortmund/extra/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/dortmund/extra/"+e,method:"get"})}function u(e){return Object(i["a"])({url:"/dortmund/extra",method:"post",data:e})}function d(e){return Object(i["a"])({url:"/dortmund/extra",method:"put",data:e})}function c(e){return Object(i["a"])({url:"/dortmund/extra/"+e,method:"delete"})}var m=a("313e"),y=a("c46f"),p={name:"Extra",dicts:["sys_yes_no"],data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,extraList:[],title:"",open:!1,daterangeCreateTime:[],daterangeUpdateTime:[],isMoreQuery:!1,queryParams:{pageNum:1,pageSize:5,extraMoney:null,isWin:null,winMoney:null,seedMoney:null,saveMoney:null,targetMoney:null,extraRemark:null,delFlag:null,userId:null,createBy:null,createTime:null,updateBy:null,updateTime:null},form:{},formLoading:!1,isAdd:!1,rules:{extraMoney:[{required:!0,message:"当前外快总金额不能为空",trigger:"blur"}],isWin:[{required:!0,message:"是否盈利不能为空",trigger:"change"}],winMoney:[{required:!0,message:"外快盈亏金额不能为空",trigger:"blur"}],seedMoney:[{required:!0,message:"当前投入本金不能为空",trigger:"blur"}],saveMoney:[{required:!0,message:"已经落袋为安的盈利金额不能为空",trigger:"blur"}],targetMoney:[{required:!0,message:"目标金额不能为空",trigger:"blur"}]},historyDataAnalysisOpen:!1,historyDataChartLoading:!1,preExtraData:{extraMoney:"0",seedMoney:"0"}}},created:function(){this.getList()},methods:{handleOpenDataAnalysis:function(){var e=this;this.historyDataAnalysisOpen=!0,this.historyDataChartLoading=!0,setTimeout((function(){e.setChartDomHeight(),e.formatHistoiryListData()}),518),setTimeout((function(){e.historyDataChartLoading=!1}),5918)},handleCloseDataAnalysis:function(){this.historyDataAnalysisOpen=!1},setChartDomHeight:function(){var e=window.innerHeight-114;document.getElementById("historyDataAnalysisContainer").style.height=e+"px"},formatHistoiryListData:function(){var e=this;l({pageNum:1,pageSize:999999999}).then((function(t){var a=null===t||void 0===t?void 0:t.rows,n=[];a.forEach((function(e){var t=parseFloat((parseFloat((null===e||void 0===e?void 0:e.extraMoney)||0)-parseFloat((null===e||void 0===e?void 0:e.seedMoney)||0)-parseFloat((null===e||void 0===e?void 0:e.winMoney)||0)).toFixed(2)),a=parseFloat((parseFloat((null===e||void 0===e?void 0:e.extraMoney)||0)-parseFloat((null===e||void 0===e?void 0:e.seedMoney)||0)).toFixed(2)),r=t>a?t:a,o=t<a?t:a;n.push([null===e||void 0===e?void 0:e.createTime,t,a,o,r])})),e.initDataAnalysisChart(n),e.historyDataChartLoading=!1}))},initDataAnalysisChart:function(e){var t,a=document.getElementById("historyDataAnalysisContainer"),n=m["a"](a),r="#ec0000",o="#8A0000",i="#00da3c",l="#008F28",s=u(e);function u(e){for(var t=[],a=[],n=0;n<e.length;n++)t.push(e[n].splice(0,1)[0]),a.push(e[n]);return{categoryData:t,values:a}}function d(e){for(var t=[],a=0,n=s.values.length;a<n;a++)if(a<e)t.push("-");else{for(var r=0,o=0;o<e;o++)r+=+s.values[a-o][1];t.push(parseFloat((r/e).toFixed(2)))}return t}t={tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["外快盈亏","MA5","MA10","MA20","MA30"]},grid:{left:"10%",right:"10%",bottom:"15%"},xAxis:{type:"category",data:s.categoryData,boundaryGap:!1,axisLine:{onZero:!1},splitLine:{show:!1},min:"dataMin",max:"dataMax"},yAxis:{scale:!0,splitArea:{show:!0}},dataZoom:[{type:"inside",start:0,end:100},{show:!0,type:"slider",top:"90%",start:0,end:100}],series:[{name:"外快盈亏",type:"candlestick",data:s.values,itemStyle:{color:r,color0:i,borderColor:o,borderColor0:l},markPoint:{label:{formatter:function(e){return null!=e?Math.round(e.value)+"":""}},data:[{name:"highest value",type:"max",valueDim:"highest"},{name:"lowest value",type:"min",valueDim:"lowest"}],tooltip:{formatter:function(e){return e.name+"<br>"+(e.data.coord||"")}}},markLine:{symbol:["none","none"],data:[[{name:"from lowest to highest",type:"min",valueDim:"lowest",symbol:"circle",symbolSize:10,label:{show:!1},emphasis:{label:{show:!1}}},{type:"max",valueDim:"highest",symbol:"circle",symbolSize:10,label:{show:!1},emphasis:{label:{show:!1}}}],{name:"min line on close",type:"min",valueDim:"close"},{name:"max line on close",type:"max",valueDim:"close"}]}},{name:"MA5",type:"line",data:d(5),smooth:!0,lineStyle:{opacity:.5}},{name:"MA10",type:"line",data:d(10),smooth:!0,lineStyle:{opacity:.5}},{name:"MA20",type:"line",data:d(20),smooth:!0,lineStyle:{opacity:.5}},{name:"MA30",type:"line",data:d(30),smooth:!0,lineStyle:{opacity:.5}}]},t&&n.setOption(t)},clearDateQueryParams:function(){this.queryParams.beginCreateTime=null,this.queryParams.endCreateTime=null,this.queryParams.beginUpdateTime=null,this.queryParams.endUpdateTime=null},getList:function(){var e=this;this.loading=!0,this.clearDateQueryParams(),null!=this.daterangeCreateTime&&""!=this.daterangeCreateTime&&(this.queryParams.beginCreateTime=this.daterangeCreateTime[0],this.queryParams.endCreateTime=this.daterangeCreateTime[1]),null!=this.daterangeUpdateTime&&""!=this.daterangeUpdateTime&&(this.queryParams.beginUpdateTime=this.daterangeUpdateTime[0],this.queryParams.endUpdateTime=this.daterangeUpdateTime[1]),l(this.queryParams).then((function(t){e.extraList=e.countCurrentMoney(e.formatObjectArrayNullProperty(t.rows)),e.total=t.total,e.loading=!1}))},countCurrentMoney:function(e){var t=[];return e.forEach((function(e){var a=Object(o["a"])(Object(o["a"])({},e),{},{currentMoney:(parseFloat(e.extraMoney||0)-parseFloat(e.seedMoney||0)).toFixed(2)});t.push(a)})),t},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={extraId:null,extraMoney:null,isWin:null,winMoney:null,seedMoney:null,targetMoney:null,extraRemark:null,delFlag:null,userId:null,createBy:null,createTime:null,updateBy:null,updateTime:null},this.resetForm("form")},handleMoreQuery:function(){this.isMoreQuery=!this.isMoreQuery},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.daterangeCreateTime=[],this.daterangeUpdateTime=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.extraId})),this.single=1!==e.length,this.multiple=!e.length},handleExtraMoneyChangeDubounce:y["a"].debounce((function(e){this.isAdd&&this.handleExtraMoneyChange(e)}),444),handleExtraMoneyChange:function(e){var t,a=null===(t=this.form)||void 0===t?void 0:t.seedMoney;e&&a&&this.handleWinMoneyCount(e,a)},handleSeedMoneyChangeDubounce:y["a"].debounce((function(e){this.isAdd&&this.handleSeedMoneyChange(e)}),444),handleSeedMoneyChange:function(e){var t,a=null===(t=this.form)||void 0===t?void 0:t.extraMoney;e&&a&&this.handleWinMoneyCount(a,e)},handleWinMoneyCount:function(e,t){var a,n,r=(null===(a=this.preExtraData)||void 0===a?void 0:a.extraMoney)||"0",o=(null===(n=this.preExtraData)||void 0===n?void 0:n.seedMoney)||"0",i=(parseFloat(e)-parseFloat(t)-(parseFloat(r)-parseFloat(o))).toFixed(2);this.form.isWin=i>0?"Y":"N",this.form.winMoney=i},getPreExtraMoney:function(){var e=this,t={pageNum:1,pageSize:1};this.formLoading=!0,l(t).then((function(t){var a,n,r,o;200===(null===t||void 0===t?void 0:t.code)?null!==t&&void 0!==t&&t.rows&&(null===t||void 0===t||null===(a=t.rows)||void 0===a?void 0:a.length)>0?(e.preExtraData=t.rows[0]||{extraMoney:"0",seedMoney:"0"},e.form.seedMoney=(null===(n=t.rows[0])||void 0===n?void 0:n.seedMoney)||"0",e.form.saveMoney=(null===(r=t.rows[0])||void 0===r?void 0:r.saveMoney)||"0",e.form.targetMoney=(null===(o=t.rows[0])||void 0===o?void 0:o.targetMoney)||"0"):uni.showToast({title:"暂无历史外快盈亏记录数据！",icon:"none",duration:1998}):uni.showToast({title:"查询外快盈亏记录失败！",icon:"none",duration:1998})})).finally((function(){e.formLoading=!1}))},handleAdd:function(){this.isAdd=!0,this.reset(),this.getPreExtraMoney(),this.open=!0,this.title="添加外快盈亏记录"},handleUpdate:function(e){var t=this;this.isAdd=!1,this.reset();var a=e.extraId||this.ids;s(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改外快盈亏记录"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(null!=e.form.extraId?d(e.form).then((function(t){e.$modal.msgSuccess("修改成功"),e.open=!1,e.getList()})):u(e.form).then((function(t){e.$modal.msgSuccess("新增成功"),e.open=!1,e.getList()})))}))},handleDelete:function(e){var t=this,a=e.extraId||this.ids;this.$modal.confirm('是否确认删除外快盈亏记录编号为"'+a+'"的数据项？').then((function(){return c(a)})).then((function(){t.getList(),t.$modal.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){this.download("dortmund/extra/export",Object(o["a"])({},this.queryParams),"extra_".concat((new Date).getTime(),".xlsx"))}}},h=p,f=a("2877"),g=Object(f["a"])(h,n,r,!1,null,null,null);t["default"]=g.exports}}]);